(this["webpackJsonpreact-starter-kit"]=this["webpackJsonpreact-starter-kit"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var i,a,c,o,r,s=n(4),u=n(3),h=n.n(u),l=n(11),d=n.n(l),v=(n(17),n(18),n(0)),g=n.n(v),f=n(1),m=n(2),b=n(6),k=n(5);!function(e){e.GREEN_BACKGROUND="greenBackgroundImg"}(i||(i={})),function(e){e.BOOT="bootScene",e.SPLASH="SplashScene",e.MAIN_MENU="MainMenu",e.ANIMATION="animationScene",e.SOUND="soundScene"}(a||(a={})),function(e){e.PRIMARY="btnPrimary",e.SECONDARY="btnSecondary"}(c||(c={})),function(e){e.BELL="bellicon",e.BATTERY="batteryicon",e.CAMERA="cameraicon",e.CLOUD="cloudicon"}(o||(o={})),function(e){e.IDLE="idle",e.WALK_FRONT="walkFront",e.WALK_BACK="walkBack",e.HEALTH="healthanim"}(r||(r={}));var p=[{key:r.IDLE,frameRate:8,repeat:-1},{key:r.WALK_FRONT,frameRate:10,repeat:-1},{key:r.WALK_BACK,frameRate:10,repeat:-1},{key:r.HEALTH,frameRate:10,repeat:-1}],y=[{key:i.GREEN_BACKGROUND,url:"backgrounds/greenLandscapeBg.png"},{key:c.PRIMARY,url:"btns/buttonprimary.png"},{key:c.SECONDARY,url:"btns/buttonsecondary.png"},{key:o.BATTERY,url:"btns/batteryicon.png"},{key:o.CLOUD,url:"btns/cloudicon.png"},{key:o.CAMERA,url:"btns/cameraicon.png"},{key:o.BELL,url:"btns/bellicon.png"}],A=[{key:r.IDLE,url:"anims/idle.png",config:{frameWidth:96,frameHeight:160}},{key:r.WALK_FRONT,url:"anims/frontWalk.png",config:{frameWidth:120,frameHeight:192}},{key:r.WALK_BACK,url:"anims/backWalk.png",config:{frameWidth:120,frameHeight:192}},{key:r.HEALTH,url:"anims/saveIcon.png",config:{frameWidth:100,frameHeight:90}}],O=n(7),w=n(8),E=function(e,t,n,i,a){var c=1,o=window.devicePixelRatio,r=(e*o+2*a)/n,s=(t*o+2*a)/i;return(r>1||s>1)&&(c=1/Math.max(r,s)),c*o},B=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;i*=window.devicePixelRatio;var c=E(e.width,e.height,t,n,i);e.setScale(c*a)},R=g.a.GameObjects.Image,N=g.a.GameObjects.Text,L={fontFamily:"arial",fontSize:"5em",color:"white"},j=function(e){Object(b.a)(n,e);var t=Object(k.a)(n);function n(e,i,a,o,r){var s,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:c.PRIMARY,h=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return Object(f.a)(this,n),(s=t.call(this,e,i,a)).background=void 0,s.icon=void 0,s.label=void 0,s.background=new R(e,0,0,u),s.icon=new R(e,0,0,r).setOrigin(.2,.5),s.label=new N(e,0,0,o,L).setOrigin(.35,.5),s.add([s.background,s.icon,s.label]),h&&e.add.existing(Object(w.a)(s)),s}return Object(m.a)(n,[{key:"enableInteractive",value:function(){var e=this,t={targets:[this],duration:175,ease:"Power3"};return this.background.setInteractive({useHandCursor:!0}).on("pointerover",(function(){e.scene.tweens.add(Object(O.a)({scale:1.25},t))})).on("pointerout",(function(){e.scene.tweens.add(Object(O.a)({scale:1},t))})),this}},{key:"onClick",value:function(e){this.background.on("pointerdown",e)}},{key:"removeOnClick",value:function(){this.background.off("pointerdown")}},{key:"disable",value:function(){this.background.disableInteractive()}},{key:"getHeight",value:function(){return this.background.displayHeight}},{key:"resize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;B(this.background,e,t,n,i),this.icon.setScale(this.background.scale);var a=this.background.getLeftCenter();this.icon.setPosition(a.x,a.y),this.label.setFontSize(.5*this.background.displayHeight)}}]),n}(g.a.GameObjects.Container),C=function(){function e(){Object(f.a)(this,e),this.speech=void 0,this.utterance=void 0,this.voice=void 0,this.speech=window.speechSynthesis,this.utterance=new SpeechSynthesisUtterance,this.utterance.pitch=1,this.utterance.rate=1,this.utterance.volume=1}return Object(m.a)(e,[{key:"setVoices",value:function(){var e=this.speech.getVoices();this.voice=this.findVoiceByName(e,"Paulina"),this.voice||(this.voice=this.findVoiceByName(e,"Google espa\xf1ol de Estados Unidos")),this.utterance.voice=this.voice}},{key:"findVoiceByName",value:function(e,t){return e.find((function(e){return e.name===t}))}},{key:"speak",value:function(e){this.utterance.text=e,this.speech.speaking&&this.speech.cancel(),this.speech.speak(this.utterance)}},{key:"cancel",value:function(){this.speech.cancel()}},{key:"speakHelpText",value:function(e){this.speech.speaking?this.speech.cancel():(this.utterance.text=e,this.speech.speak(this.utterance))}}]),e}(),I=n(9),S=function(e){Object(b.a)(n,e);var t=Object(k.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this,{key:a.MAIN_MENU})).background=void 0,e.audioButton=void 0,e.tweensButton=void 0,e.animButton=void 0,e.buttons=void 0,e.voice=void 0,e.buttons=[],e}return Object(m.a)(n,[{key:"init",value:function(){!Object(I.has)(this.game,"voice")&&this.createVoice(),this.voice=Object(I.get)(this.game,"voice")}},{key:"createVoice",value:function(){var e=new C;Object(I.set)(this.game,"voice",e)}},{key:"preload",value:function(){var e=this;y.forEach((function(t){var n=t.key,i=t.url;return e.load.image(n,window.location.pathname+i)})),A.forEach((function(t){var n=t.key,i=t.url,a=t.config;return e.load.spritesheet(n,i,a)})),this.load.on("progress",(function(e){return console.log(Math.floor(100*e))})),this.voice.setVoices()}},{key:"create",value:function(){var e=this;this.background=this.add.image(0,0,i.GREEN_BACKGROUND).setOrigin(0),this.audioButton=new j(this,250,250,"Audio",o.CAMERA),this.tweensButton=new j(this,250,250,"Tweens",o.CLOUD),this.animButton=new j(this,250,250,"Animar",o.BATTERY,c.SECONDARY),this.buttons=[this.audioButton,this.tweensButton,this.animButton];var t=function(){return e.resize()};this.scale.on("resize",t),this.events.once("shutdown",(function(){return e.scale.off("resize",t)})),this.resize(),this.setBtnInteractive()}},{key:"setBtnInteractive",value:function(){var e=this;this.buttons.forEach((function(t,n){e.add.existing(t),t.enableInteractive()})),this.animButton.onClick((function(){return e.scene.start(a.ANIMATION)})),this.audioButton.onClick((function(){return e.voice.speak("Aguacate con queso")}))}},{key:"resizeBtn",value:function(){var e=this.game.canvas,t=e.width,n=e.height,i=t>n?t/4:t/2,a=n/this.buttons.length;this.buttons.forEach((function(e){e.resize(i,a,10)}))}},{key:"resize",value:function(){var e=this.game.canvas,t=e.width,n=e.height;this.background.setDisplaySize(t,n),this.resizeBtn(),g.a.Actions.GridAlign(this.buttons,{x:t/2,y:.25*n,cellHeight:this.buttons[0].getHeight()+100,height:-1,position:g.a.Display.Align.CENTER})}}]),n}(g.a.Scene),T=function(e){Object(b.a)(n,e);var t=Object(k.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this,{key:a.ANIMATION})).background=void 0,e.label=void 0,e.returnBtn=void 0,e.mc=void 0,e.currentAnim=void 0,e.currentTween=void 0,e.currentAnim="",e}return Object(m.a)(n,[{key:"preload",value:function(){var e=this;p.forEach((function(t){console.log(Object(O.a)({frames:e.anims.generateFrameNames(t.key)},t)),e.anims.create(Object(O.a)({frames:e.anims.generateFrameNames(t.key)},t))}))}},{key:"create",value:function(){var e=this;this.background=this.add.image(0,0,i.GREEN_BACKGROUND).setOrigin(0),this.label=this.add.text(0,0,"Escena de animaciones",{fontSize:"10em"}).setOrigin(.5,-.25),this.returnBtn=new j(this,0,0,"Regresar",o.BELL,c.SECONDARY,!0),this.mc=this.add.sprite(0,0,r.IDLE,0);var t=function(){return e.resize()};this.scale.on("resize",t),this.events.once("shutdown",(function(){return e.scale.off("resize",t)})),this.resize(),this.setBtnInteractive()}},{key:"setBtnInteractive",value:function(){var e=this;this.returnBtn.enableInteractive().onClick((function(){return e.scene.start(a.MAIN_MENU)})),this.mc.play(r.IDLE);var t=function(t){var n=t.x,i=t.y;e.currentTween&&e.currentTween.isPlaying()&&e.currentTween.stop(),e.currentTween=e.tweens.add({targets:[e.mc],x:n,y:i,onStart:function(){i<e.mc.y?(e.currentAnim!==r.WALK_BACK&&(e.currentAnim=r.WALK_BACK,e.mc.play(e.currentAnim)),e.mc.setFlipX(n>e.mc.x)):(e.currentAnim!==r.WALK_FRONT&&(e.currentAnim=r.WALK_FRONT,e.mc.play(e.currentAnim)),e.mc.setFlipX(n>e.mc.x))},onComplete:function(){e.currentAnim=r.IDLE,e.mc.play(e.currentAnim)}})};this.input.on("pointerdown",t),this.events.once("shutdown",(function(){return e.input.off("pointerdown",t)}))}},{key:"resize",value:function(){var e=this.game.canvas,t=e.width,n=e.height;this.background.setDisplaySize(t,n),this.label.setPosition(t/2,0).setFontSize(n/15),this.mc.setPosition(t/2,n/2),B(this.mc,t,n,0,2),this.returnBtn.resize(t/2,n/4,10),this.returnBtn.setPosition(t/2,n-this.returnBtn.getHeight())}}]),n}(g.a.Scene),z=window.devicePixelRatio,x={type:g.a.WEBGL,backgroundColor:"#000000",scale:{parent:"phaser-game",mode:g.a.Scale.NONE,height:document.documentElement.clientHeight*z,width:document.documentElement.clientWidth*z,zoom:1/z},scene:[S,T]},D=function(){var e;return Object(u.useEffect)((function(){new C;var t=new g.a.Game(x);return e=H(t),window.addEventListener("resize",e),function(){t.destroy(!0),window.removeEventListener("resize",e)}}),[]),Object(s.jsx)("div",{id:"phaser-game"})},H=function(e){return function(){var t=window.devicePixelRatio,n=(document.getElementById("phaser-game"),document.documentElement),i=n.clientWidth,a=n.clientHeight;e.scale.resize(i*t,a*t)}};var M=function(){return Object(s.jsx)(D,{})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),i(e),a(e),c(e),o(e)}))};d.a.render(Object(s.jsx)(h.a.StrictMode,{children:Object(s.jsx)(M,{})}),document.getElementById("root")),K()}},[[22,1,2]]]);
//# sourceMappingURL=main.0434bd68.chunk.js.map